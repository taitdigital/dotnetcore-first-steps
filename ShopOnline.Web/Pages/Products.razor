@page "/"
@inherits ProductsBase

@if (Products == null)
{
    <h3>Loading Products</h3>
}
else
{
    <h3>Products</h3>

    var productCount = Products.Count();

    @if (productCount > 0)
    {
        const int itemsPerRow = 4;
        var productRowList = new List<ProductDto>();

        @for (int i = 0; i < productCount; i++)
        {
            productRowList = Products.Skip(i * itemsPerRow).Take(itemsPerRow).ToList();

            @foreach (var item in productRowList)
            {
                <div>
                    <small>@item.CategoryName</small>
                    <img src="@item.ImageURL" />
                    <h5>@item.Name</h5>
                    <p>@item.Description</p>
                    <p>@item.Price.ToString("C")</p>
                </div>
            }

        }
    }

}





